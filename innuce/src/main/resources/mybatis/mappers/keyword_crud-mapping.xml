<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.mc.innuce.domain.search.dao.CrudDAO">

<select id="oneKeyword" parameterType="String" resultType="Keyworddto">
select * from keyword where keyword_content=#{keyword}
</select>

<update id="updateKeyword" parameterType="String">
update keyword
set keyword_recent_time=now(), search_count=search_count+1
where keyword_content=#{keyword}
</update>

<insert id="insertKeyword" parameterType="String" >
insert into keyword(keyword_content,keyword_recent_time) 
values(#{keyword_content}, now());
</insert>

<!-- <insert id="insertKeywordNews" parameterType="keyOfKeywordAndNewsdto" >
	insert into keyword_news(keyword_key,news_key) values 
	<foreach collection="array" item="num" separator=",">
	(#{num.keyword_key},#{num.newsKeyList})
	</foreach>
</insert> -->


<insert id="insertKeywordNews" parameterType="java.util.List" >
	<!-- insert ignore into keyword_news(keyword_key,news_key) 
	value (select keyword_key from keyword where keyword_key=#{keyword_key} ,
	(select news_key from news where news_title like concat('%',#{keyword },'%'))) -->
	<!-- values 
	<foreach collection="list" item="item" separator=",">
		(#{item.keyword_key },#{item.news_key })
	 </foreach> -->
</insert>




</mapper>  